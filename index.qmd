---
title: ""
format:
  html:
    toc: false
execute:
  echo: false
jupyter: python3
---

```{python}
#| include: false
import json
from pathlib import Path

# Load stats
stats_file = Path("data/wrapped_stats.json")
if stats_file.exists():
    with open(stats_file) as f:
        stats = json.load(f)
else:
    # Sample data for preview - 2025
    stats = {
        "year": 2025,
        "total_titles_watched": 923,
        "unique_shows": 168,
        "estimated_hours": 692,
        "estimated_days": 28.8,
        "number_one_show": "Wednesday",
        "number_one_count": 58,
        "peak_month": "November",
        "peak_month_count": 118,
        "favorite_day": "Saturday",
        "favorite_day_count": 198,
        "longest_streak": 27,
        "binge_sessions": 42,
        "biggest_binge": 14,
        "biggest_binge_show": "Squid Game",
        "active_days": 312,
        "peak_time": "Evening (6pm-10pm)",
        "personality": {
            "type": "The Binge Master",
            "description": "One more episode? Make that ten. Sleep is optional when the plot thickens."
        },
        "top_shows": [
            {"title": "Wednesday", "count": 58},
            {"title": "Stranger Things", "count": 52},
            {"title": "The Crown", "count": 45},
            {"title": "Squid Game", "count": 41},
            {"title": "Money Heist", "count": 36}
        ],
        "monthly_breakdown": {
            "January": 72, "February": 65, "March": 78, "April": 71,
            "May": 58, "June": 64, "July": 82, "August": 89,
            "September": 96, "October": 108, "November": 118, "December": 22
        },
        "fun_facts": [
            "You could have flown to Tokyo 49.4 times with your watch time.",
            "In this time, you could have read approximately 115 books. But who is counting?",
            "Your 27-day streak shows true dedication. Netflix should send you a trophy.",
            "With 42 binge sessions, you have mastered the art of just one more episode."
        ]
    }

year = stats.get("year", 2025)
hours = stats.get("estimated_hours", 0)
days = stats.get("estimated_days", 0)
total = stats.get("total_titles_watched", 0)
shows = stats.get("unique_shows", 0)
top_show = stats.get("number_one_show", "Unknown")
top_count = stats.get("number_one_count", 0)
personality = stats.get("personality", {})
active_days = stats.get("active_days", 0)
```

::: {.hero}
# NETFLIX WRAPPED

::: {.subtitle}
Your Year in Streaming
:::

::: {.year}
`{python} year`
:::

:::


::: {.wrapped-section}
::: {.section-title}
THE BIG PICTURE
:::

::: {.stats-grid}

::: {.stat-card}
::: {.number}
`{python} f"{hours:,.0f}"`
:::
::: {.label}
Hours Streamed
:::
::: {.detail}
That is `{python} f"{days:.1f}"` days of pure entertainment
:::
:::

::: {.stat-card}
::: {.number}
`{python} f"{total:,}"`
:::
::: {.label}
Titles Watched
:::
::: {.detail}
Episodes, movies, documentaries, and more
:::
:::

::: {.stat-card}
::: {.number}
`{python} shows`
:::
::: {.label}
Unique Shows
:::
::: {.detail}
Your taste is impressively diverse
:::
:::

::: {.stat-card}
::: {.number}
`{python} active_days`
:::
::: {.label}
Active Days
:::
::: {.detail}
Days you pressed play this year
:::
:::

:::
:::


::: {.wrapped-section .highlight}

::: {.section-title}
YOUR STREAMING PERSONALITY
:::

::: {.personality-badge}
::: {.type}
`{python} personality.get('type', 'The Viewer')`
:::
::: {.description}
`{python} personality.get('description', 'You have unique viewing habits.')`
:::
:::

:::


::: {.wrapped-section}
::: {.section-title}
YOUR NUMBER ONE
:::

::: {.stat-card style="max-width: 700px; margin: 0 auto; text-align: center;"}
::: {.number style="font-size: 3rem;"}
`{python} top_show`
:::
::: {.label}
Most Watched Show of the Year
:::
::: {.detail}
You watched `{python} top_count` episodes. A true fan.
:::
:::

[See All Your Stats](/stats.html){.btn-netflix style="display: block; width: fit-content; margin: 3rem auto;"}

:::


::: {.wrapped-section}
::: {.section-title}
WHEN YOU WATCHED
:::

```{python}
#| output: asis
monthly = stats.get("monthly_breakdown", {})
if monthly:
    max_val = max(monthly.values()) if monthly.values() else 1
    
    print('<div class="month-bars">')
    for month in ["January", "February", "March", "April", "May", "June", 
                  "July", "August", "September", "October", "November", "December"]:
        count = monthly.get(month, 0)
        height = (count / max_val) * 200 if max_val > 0 else 10
        print(f'<div class="month-bar" style="height: {height}px;" title="{month}: {count}"></div>')
    print('</div>')
    
    print('<div style="display: flex; justify-content: space-between; padding: 0 2rem; margin-top: 0.5rem;">')
    for month in ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"]:
        print(f'<span class="month-label">{month}</span>')
    print('</div>')
```

::: {.stat-card style="margin-top: 3rem; text-align: center; max-width: 600px; margin-left: auto; margin-right: auto;"}
::: {.detail style="font-size: 1.2rem;"}
Peak month: **`{python} stats.get('peak_month', 'Unknown')`** with `{python} stats.get('peak_month_count', 0)` titles watched
:::
:::

:::


::: {.wrapped-section}
::: {.section-title}
DID YOU KNOW?
:::

```{python}
#| output: asis
facts = stats.get("fun_facts", [])
for fact in facts:
    print(f'<div class="fun-fact">{fact}</div>')

# Add some extra stats as fun facts
streak = stats.get("longest_streak", 0)
binges = stats.get("binge_sessions", 0)
fav_day = stats.get("favorite_day", "Unknown")

print(f'<div class="fun-fact">Your favorite day to watch was <span class="highlight">{fav_day}</span>.</div>')
print(f'<div class="fun-fact">You went on a <span class="highlight">{streak}-day</span> watching streak. Commitment level: expert.</div>')
if binges > 0:
    print(f'<div class="fun-fact">You had <span class="highlight">{binges}</span> official binge sessions this year.</div>')
```

:::


::: {.wrapped-footer}
::: {.tagline}
Thanks for Streaming
:::
Now go take a break. You have earned it.
:::
